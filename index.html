<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>–¢–µ—Å—Ç –ü–æ–¥–µ–ª–∏—Ç—å—Å—è</title>
</head>
<body style="display:flex;justify-content:center;align-items:center;height:100vh;background:#111;color:#fff;font-family:sans-serif;">
  
  <button id="shareBtn" style="padding:12px 20px;font-size:18px;border-radius:10px;cursor:pointer;">
    –ü–æ–¥–µ–ª–∏—Ç—å—Å—è üöÄ
  </button>

  <script>
    const btn = document.getElementById("shareBtn");

    btn.onclick = () => {
      const url = "https://t.me/karlsruheinfo_bot/app?startapp=map";
      const text = "üìç –¢–µ—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ\n–û—Ç–∫—Ä—ã—Ç—å –∫–∞—Ä—Ç—É üåç";

      // –ï—Å–ª–∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –Ω–æ–≤—ã–π API
      if (Telegram?.WebApp?.shareMessage) {
        Telegram.WebApp.shareMessage({
          text,
          button: {
            text: "–û—Ç–∫—Ä—ã—Ç—å –∫–∞—Ä—Ç—É üåç",
            url
          }
        });
      } 
      // –ï—Å–ª–∏ –Ω–µ—Ç ‚Äî fallback –Ω–∞ —Å—Ç–∞—Ä—ã–π –º–µ—Ç–æ–¥
      else if (Telegram?.WebApp?.shareUrl) {
        Telegram.WebApp.shareUrl(url, text);
      } 
      // –ï—Å–ª–∏ –≤–æ–æ–±—â–µ –Ω–µ –≤ Telegram ‚Äî fallback –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ
      else {
        navigator.clipboard.writeText(url);
        alert("–°—Å—ã–ª–∫–∞ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞ –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞");
      }
    };
  </script>
</body>
</html>

